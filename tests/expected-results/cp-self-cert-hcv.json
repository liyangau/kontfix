{
  "providers": [
    {
      "provider": "konnect",
      "alias": "au",
      "personal_access_token": "${var.cp_admin_token}",
      "server_url": "https://au.api.konghq.com"
    },
    {
      "provider": "vault",
      "address": "https://vault.example.com",
      "alias": "storage",
      "token": "${var.vault_token}"
    }
  ],
  "control_planes": [
    {
      "resource_name": "au-test",
      "name": "test",
      "provider": "konnect.au",
      "auth_type": "pinned_client_certs"
    }
  ],
  "resources": [
    {
      "resource_type": "vault_kv_secret_v2",
      "resource_name": "au-test_pinned_cluster_config",
      "mount": "konnect",
      "name": "au/test/cluster-config",
      "provider": "vault.storage"
    },
    {
      "resource_type": "tls_private_key",
      "resource_name": "au-test",
      "algorithm": "RSA",
      "rsa_bits": 2048
    },
    {
      "resource_type": "tls_self_signed_cert",
      "resource_name": "au-test",
      "subject": [
        {
          "common_name": "konnect-au-test"
        }
      ],
      "depends_on": [
        "tls_private_key.au-test"
      ],
      "validity_period_hours": 2160
    }
  ],
  "variables": [
    {
      "variable_name": "cp_admin_token"
    },
    {
      "variable_name": "vault_token"
    }
  ]
}